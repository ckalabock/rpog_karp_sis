<Window x:Class="BiblApp.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Library Management" Height="620" Width="1150" MinWidth="980"
        WindowStartupLocation="CenterScreen">
    <Grid Margin="12">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <Border Grid.Row="0" Padding="12" BorderBrush="#D0D0D0" BorderThickness="1" CornerRadius="6">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="2*"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="2*"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="2*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <TextBlock Grid.Column="0" VerticalAlignment="Center" Margin="0,0,8,0" Text="Search:"/>
                <TextBox x:Name="SearchTextBox" Grid.Column="1" Margin="0,0,8,0" TextChanged="FilterChanged"/>

                <TextBlock Grid.Column="2" VerticalAlignment="Center" Margin="0,0,8,0" Text="Author:"/>
                <ComboBox x:Name="AuthorFilterComboBox" Grid.Column="3" Margin="0,0,8,0" DisplayMemberPath="Name" SelectionChanged="FilterChanged"/>

                <TextBlock Grid.Column="4" VerticalAlignment="Center" Margin="0,0,8,0" Text="Genre:"/>
                <ComboBox x:Name="GenreFilterComboBox" Grid.Column="5" Margin="0,0,8,0" DisplayMemberPath="Name" SelectionChanged="FilterChanged"/>

                <Button Grid.Column="6" MinWidth="90" Padding="14,4" HorizontalAlignment="Right" Content="Search" Click="RefreshButton_Click"/>
            </Grid>
        </Border>

        <StackPanel Grid.Row="1" Margin="0,12,0,12" Orientation="Horizontal">
            <Button Width="130" Margin="0,0,10,0" Content="Add Book" Click="AddBookButton_Click"/>
            <Button Width="130" Margin="0,0,10,0" Content="Edit Book" Click="EditBookButton_Click"/>
            <Button Width="130" Margin="0,0,10,0" Content="Delete Book" Click="DeleteBookButton_Click"/>
            <Separator Width="1" Margin="5,0,10,0"/>
            <Button Width="150" Margin="0,0,10,0" Content="Manage Authors" Click="ManageAuthorsButton_Click"/>
            <Button Width="150" Content="Manage Genres" Click="ManageGenresButton_Click"/>
        </StackPanel>

        <DataGrid x:Name="BooksDataGrid"
                  Grid.Row="2"
                  AutoGenerateColumns="False"
                  IsReadOnly="True"
                  SelectionMode="Single">
            <DataGrid.Columns>
                <DataGridTextColumn Header="ID" Binding="{Binding Id}" Width="55"/>
                <DataGridTextColumn Header="Title" Binding="{Binding Title}" Width="2*"/>
                <DataGridTextColumn Header="Author" Binding="{Binding AuthorFullName}" Width="1.5*"/>
                <DataGridTextColumn Header="Genre" Binding="{Binding GenreName}" Width="1.2*"/>
                <DataGridTextColumn Header="Year" Binding="{Binding PublishYear}" Width="90"/>
                <DataGridTextColumn Header="ISBN" Binding="{Binding ISBN}" Width="150"/>
                <DataGridTextColumn Header="In Stock" Binding="{Binding QuantityInStock}" Width="90"/>
            </DataGrid.Columns>
        </DataGrid>
    </Grid>
</Window>
